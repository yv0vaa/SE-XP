# Техническое задание: Веб-приложение "Homework Checker" (MVP) - v1.1

## 1. Общее описание и цели проекта

### 1.1. Название проекта
Homework Checker

### 1.2. Цель
Разработать минимально жизнеспособный продукт (MVP) веб-приложения для автоматизации процесса сдачи и проверки домашних заданий в рамках учебных курсов. Приложение должно упростить взаимодействие между преподавателями и студентами, обеспечить прозрачность оценок и обратной связи.

### 1.3. Целевая аудитория
*   **Преподаватели:** ведущие курсы, репетиторы.
*   **Студенты:** учащиеся курсов.

### 1.4. Ключевые ограничения
Проект должен быть разработан за 4 часа. Это диктует выбор технологий (Python/Django) и фокус на простоте и скорости реализации, а также определяет приоритеты функциональных требований.

---

## 2. Роли пользователей и их права

В системе предусмотрено 3 роли:

### 2.1. Студент (Student)
*   Может просматривать список курсов, на которые он записан.
*   Может просматривать список домашних заданий в рамках каждого курса.
*   Может загружать файл с решением для каждого задания (повторная загрузка заменяет предыдущий файл).
*   Может просматривать свою оценку и текстовый отзыв от преподавателя по каждому заданию.
*   **Не может** видеть чужие работы, создавать курсы и задания, проверять работы.

### 2.2. Преподаватель (Teacher)
*   Может создавать, редактировать и удалять **Курсы**.
*   Может создавать, редактировать и удалять **Домашние задания** в рамках своих курсов.
*   Может записывать студентов на свои курсы.
*   Может просматривать список всех отправок по каждому из своих заданий.
*   Может скачивать файлы, отправленные студентами.
*   Может выставлять оценку (число) и оставлять текстовый отзыв для каждой отправки.

### 2.3. Администратор (Superuser)
*   Имеет полный доступ к системе через админ-панель Django.
*   Может создавать и управлять учетными записями всех пользователей.
*   Может назначать роль "Преподаватель" пользователям.
*   Исполняет все функции Преподавателя, но в рамках всей системы.

---

## 3. Функциональные требования

*Приоритеты: **P0** - Must-Have (обязательно для MVP), **P1** - Should-Have (желательно, но можно отложить).*

### 3.1. Модуль аутентификации
*   **FR-1 (`P0`):** Пользователи должны иметь возможность войти в систему (`login`) и выйти из нее (`logout`).
*   **FR-2 (`P0`):** Неавторизованные пользователи перенаправляются на страницу входа при попытке доступа к защищенным страницам.

### 3.2. Функционал для Студента (пользовательский интерфейс)
*   **FR-3 (`P0`): Список курсов и домашних заданий (Dashboard):**
    *   После входа студент видит страницу со списком курсов, на которые он записан.
    *   При переходе на страницу курса отображается список домашних заданий этого курса.
    *   Каждый элемент списка ДЗ содержит: заголовок, срок сдачи, статус ("Сдано" / "Не сдано" / "Оценено").
*   **FR-4 (`P0`): Страница детального просмотра ДЗ:**
    *   Содержит полное описание задания.
    *   Если работа не сдана, на странице присутствует форма для загрузки файла.
*   **FR-5 (`P0`): Отправка решения:**
    *   Форма должна принимать один файл (например, `.pdf`, `.zip`, `.docx`).
*   **FR-6 (`P0`): Просмотр результата:**
    *   Если работа отправлена, вместо формы загрузки отображается: дата отправки, оценка (если есть) и отзыв преподавателя (если есть).
*   **FR-7 (`P1`): Таблица с результатами:**
    *   Отдельная страница "Мои оценки", где в виде таблицы сведены все задания по всем курсам и итоговые оценки.

### 3.3. Функционал для Преподавателя (через админ-панель Django)
*   **FR-8 (`P0`): Управление Курсами (CRUD):**
    *   Преподаватель через админку может создавать новые Курсы, указывая `title`, `description`.
    *   Преподаватель может добавлять/удалять студентов и других преподавателей на свой курс.
*   **FR-9 (`P0`): Управление ДЗ (CRUD):**
    *   Преподаватель через админку может создавать новые ДЗ в рамках своих курсов, указывая `title`, `description`, `due_date` и привязывая его к конкретному курсу.
*   **FR-10 (`P0`): Проверка отправок:**
    *   В админ-панели преподаватель видит список всех отправок, сгруппированных по курсам и заданиям.
    *   На странице конкретной отправки он может:
        *   Скачать файл решения.
        *   Заполнить поле `grade` (оценка).
        *   Заполнить поле `feedback` (отзыв).

---

## 4. Нефункциональные требования

### 4.1. Дизайн и юзабилити
*   **NFR-1 (`P0`):** Простой и интуитивно понятный интерфейс. Использовать CSS-фреймворк Bootstrap 5 через CDN для быстрой стилизации.

### 4.2. Безопасность
*   **NFR-2 (`P0`):** Доступ к страницам и данным ограничен в соответствии с ролями и принадлежностью к курсу (студент видит только свои курсы, преподаватель - только свои).
*   **NFR-3 (`P0`):** Доступ в `/admin` разрешен только пользователям с флагом `is_staff` (Преподавателям и Администраторам).
*   **NFR-4 (`P0`):** Защита от базовых веб-уязвимостей:
    *   Использование Django ORM для предотвращения SQL-инъекций.
    *   Автоматическое экранирование данных в Django Templates для защиты от XSS.
*   **NFR-5 (`P1`):** Безопасная загрузка файлов: ограничение по типу и размеру файла для предотвращения загрузки вредоносного контента.

### 4.3. Требования к тестированию безопасности
*   **T-SEC-1 (`P0`):** **Тест на контроль доступа по ролям.** Попытка доступа к `/admin` под учетной записью студента должна приводить к ошибке доступа или редиректу.
*   **T-SEC-2 (`P0`):** **Тест на изоляцию данных.** Попытка получить доступ к странице чужой сданной работы по прямому URL (например, `/submission/124/`) пользователем, не являющимся автором работы или преподавателем курса, должна быть заблокирована.
*   **T-SEC-3 (`P1`):** **Тест на доступ к курсам.** Студент А, записанный на Курс 1, не должен видеть информацию о Курсе 2, на который он не записан.

### 4.4. Технический стек
*   **Backend:** Python 3, Django.
*   **База данных:** SQLite.
*   **Frontend:** Django Templates, HTML5, Bootstrap 5 (CDN).

---

## 5. Критерии приемки MVP

Проект считается успешно завершенным, если выполнены следующие сквозные сценарии:

1.  **Сценарий "Полный цикл ДЗ":**
    *   Преподаватель создает Курс через админку и записывает на него Студента.
    *   Преподаватель создает ДЗ в рамках этого Курса.
    *   Студент входит, видит свой Курс, переходит к списку ДЗ и загружает решение.
    *   Преподаватель в админке находит эту отправку, проверяет работу, ставит оценку и оставляет отзыв.
    *   Студент на странице ДЗ видит свою оценку и отзыв.

2.  **Сценарий "Контроль доступа":**
    *   Студент А не может видеть отправку Студента Б, даже если они на одном курсе.
    *   Студент не может войти в `/admin`.
    *   Преподаватель А не может управлять курсами и проверять задания Преподавателя Б (если он не добавлен в этот курс как второй преподаватель).
